<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Today in History | Histo</title>

  <!-- Icons + Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #fff;
      overflow-x:hidden;
      padding-top:70px;
    }

    /* ================================
       MINIMAL NAVBAR / HEADER
    ================================= */
    header.site-header {
      position:fixed;
      top:0; left:0; width:100%;
      display:flex; align-items:center; 
      justify-content:space-between;
      padding:10px 26px;
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,0.08);
      z-index:1000;
    }

    .logo {
      font-family: 'Pacifico', cursive;
      font-size:1.8em;
      color:#00f2ff;
      text-shadow:0 0 6px rgba(0,242,255,0.5);
      letter-spacing:1px;
    }

    /* NAV LINKS */
    .top-nav {
      display:flex;
      gap:14px;
    }

    .top-nav a {
      font-size:0.9em;
      padding:8px 14px;
      border-radius:10px;
      background:rgba(255,255,255,0.08);
      color:#e0e0e0;
      text-decoration:none;
      border:1px solid rgba(255,255,255,0.12);
      transition:0.25s ease;
    }

    .top-nav a:hover {
      background:#00f2ff;
      color:#000;
    }

    /* HAMBURGER */
    .menu-toggle { 
      display:none; 
      font-size:24px; 
      color:#00f2ff;
      cursor:pointer;
    }

    @media(max-width:768px){
      .menu-toggle { display:block; }

      .top-nav {
        position:absolute;
        top:60px; right:20px;
        background:rgba(0,0,0,0.85);
        flex-direction:column;
        padding:16px;
        gap:10px;
        border-radius:14px;
        border:1px solid rgba(255,255,255,0.14);
        display:none;
      }
      .top-nav.active { display:flex; }
    }

    /* ================================
       CARDS
    ================================= */
    .section {
      max-width:900px;
      margin:0 auto;
      padding:26px;
    }

    .card {
      background:rgba(255,255,255,0.06);
      padding:22px;
      border-radius:14px;
      margin-bottom:20px;
      border:1px solid rgba(255,255,255,0.12);
      backdrop-filter:blur(10px);
      transition:0.25s ease;
      cursor:pointer;
    }

    .card:hover {
      transform:translateY(-3px);
      background:rgba(255,255,255,0.1);
    }

    .card h2 {
      display:flex;
      gap:10px;
      align-items:center;
      font-size:1.3em;
      color:#00f2ff;
      margin-bottom:8px;
      text-shadow:0 0 6px rgba(0,242,255,0.4);
    }

    .card p {
      color:#dcdcdc;
      line-height:1.5;
      font-size:0.95em;
    }

    /* ================================
       API SECTION
    ================================= */
    .api-usage h3 {
      font-size:1.4em;
      color:#ffd700;
      margin-bottom:16px;
      text-shadow:0 0 5px rgba(255,215,0,0.4);
    }

    .api-usage p {
      font-size:0.95em;
      margin-bottom:10px;
      color:#ddd;
    }

    code {
      background:#111;
      padding:4px 8px;
      border-radius:6px;
      color:#0ff;
    }

    .try-button {
      padding:12px 20px;
      margin-top:12px;
      background:#00f2ff;
      color:#000;
      border:none;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      transition:0.3s;
    }

    .try-button:hover {
      background:#0ff;
    }

    /* FOOTER */
    footer.site-footer {
      text-align:center;
      color:#00f2ff;
      padding:20px 0;
      border-top:1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      margin-top:30px;
      font-size:0.9em;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="logo">Histo</div>

    <nav class="top-nav" id="navMenu">
      <a href="https://github.com/pyKinsu" target="_blank"><i class="fab fa-github"></i> Follow</a>
      <a href="https://github.com/pyKinsu/historicaldates/stargazers" target="_blank"><i class="fas fa-star"></i> Star</a>
      <a href="https://github.com/pyKinsu/historicaldates/fork" target="_blank"><i class="fas fa-code-branch"></i> Fork</a>
      <a href="/pages/Contact"><i class="fas fa-paper-plane"></i> Contact</a>
    </nav>

    <button class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i></button>
  </header>

  <!-- MAIN CONTENT -->
  <div class="section">

    <div class="card" id="eventCard">
      <h2><i class="fas fa-calendar-day"></i> Event</h2>
      <p>Loading...</p>
    </div>

    <div class="card" id="birthCard">
      <h2><i class="fas fa-baby"></i> Birth</h2>
      <p>Loading...</p>
    </div>

    <div class="card" id="deathCard">
      <h2><i class="fas fa-skull-crossbones"></i> Death</h2>
      <p>Loading...</p>
    </div>

    <div class="api-usage">
      <h3>ðŸš€ How to Use the API</h3>
      <p>â€¢ Today: <code>/date</code></p>
      <p>â€¢ Custom date: <code>/date/month/day</code></p>
      <p>Example: <code>/date/7/10</code></p>
      <button class="try-button" onclick="location.href='/demo.html'">â–¶ Try It</button>
    </div>

  </div>

  <!-- FOOTER -->
  <footer class="site-footer">
    Â© 2025 Histo by Amarjeet
  </footer>

  <!-- SCRIPT -->
  <script>
    const menu = document.getElementById('navMenu');
    const toggle = document.getElementById('menuToggle');
    toggle.onclick = () => menu.classList.toggle('active');

    async function loadTodayHistory() {
      try {
        const res = await fetch('/date');
        const data = await res.json();

        const events = data.data.Events;
        const births = data.data.Births;
        const deaths = data.data.Deaths;

        let e = 0, b = 0, d = 0;

        function setText(id, list, index) {
          document.getElementById(id).querySelector("p").innerText = list[index].text;
        }

        setText('eventCard', events, e);
        setText('birthCard', births, b);
        setText('deathCard', deaths, d);

        setInterval(()=>{ e=(e+1)%events.length; setText('eventCard',events,e); },4000);
        setInterval(()=>{ b=(b+1)%births.length; setText('birthCard',births,b); },5000);
        setInterval(()=>{ d=(d+1)%deaths.length; setText('deathCard',deaths,d); },6000);

      } catch (err) {
        document.querySelectorAll(".card p").forEach(p => p.innerText="Error loading data.");
      }
    }

    loadTodayHistory();
  </script>

</body>
</html>
